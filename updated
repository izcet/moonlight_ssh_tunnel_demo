

THIS FILE IS A WORK IN PROGRESS, AS IS THIS COMMIT
I got this setup working flawlessly, and then my SSD died to a PSU surge/failure.
So, this is all a lesson in backing up your config. I'll have the rest of the notes for this soon:tm:

We will be making teh tunnelz

this play has 3 characters
Client
Proxy
Host


Make the appropriate changes to the jump host ("proxy")
Add the `wormhole` user

```
# execute all of the following as root

# add a system user to maintain the ssh tunnel
useradd -m -s /bin/false wormhole

# add the ssh key of the Host Daemon Service
cd /home/wormhole
mkdir .ssh

# At this point, put your own ssh public key here for testing.
# We'll remove it later when we have summoned the Host service daemon, and add its keys.
# I don't care how it gets here, this just assumes you've magicked it in.
cat id_rsa.pub >> .ssh/authorized_keys

# we will leave the .ssh directory owned by root, readable by the wormhole user
chgrp wormhole .ssh/authorized_keys
chmod 640 .ssh/authorized_keys
```

Now that we've set up the user, we should make our changes to the `/etc/ssh/sshd_config` file.
`vim /etc/ssh/sshd_config`. Relevant changes and comments as below
```
# I'm not going to tell you how to secure your ssh service. But at a minimum,
# You should be using a non-standard port, and disable password authentication.
Port 12345 # literally anything but 22 plz
PasswordAuthentication no

# This part is what's important for our uses

# This is off by default, which is good
#GatewayPorts no

# But we have to enable it, _for only the tunnel_
Match user wormhole
  GatewayPorts yes
```
That's it. `sshd -t` or `reboot` to reload the configuration.
#!/bin/bash

exit 0 # don't run this here

SUDOER=captain

usermod -aG sudo $SUDOER
EDITOR=vim visudo
# below root, $SUDOER ALL=(ALL) ALL


SYSUSER_HOME=/.tunneler

mkdir -p $SYSUSER_HOME
useradd -d $SYSUSER_HOME 

